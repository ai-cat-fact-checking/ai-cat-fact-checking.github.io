---
permalink: /404.html
---
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GNWEYWJRY8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-GNWEYWJRY8');

    // --- Redirect Logic with GA Callback ---
    const redirects = {{ site.data.redirects | jsonify }};
    const path = window.location.pathname.replace(/\/$/, "").substring(1);
    const redirect = redirects.find(r => r.short === path);
    const destinationUrl = redirect ? redirect.long : "/";

    // This flag prevents the redirect from firing twice
    let redirected = false;
    function performRedirect() {
      if (!redirected) {
        redirected = true;
        window.location.replace(destinationUrl);
      }
    }

    // Set a timeout as a fallback in case GA fails
    setTimeout(performRedirect, 1000);

    // Send a page_view event to GA and use the redirect as a callback
    gtag('event', 'page_view', {
      'event_callback': performRedirect,
      'page_path': window.location.pathname + window.location.search
    });
  </script>
</head>
<body>
  <p>If you are not redirected automatically, follow this <a id="redirect-link" href="/">link to the home page</a>.</p>
</body>
</html>
